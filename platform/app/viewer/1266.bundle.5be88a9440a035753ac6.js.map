{"version":3,"file":"1266.bundle.5be88a9440a035753ac6.js","mappings":"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","sources":["webpack:///../../../modes/longitudinal/src/id.js","webpack:///../../../modes/longitudinal/src/initToolGroups.js","webpack:///../../../modes/longitudinal/src/toolbarButtons.ts","webpack:///../../../modes/longitudinal/src/moreTools.ts","webpack:///../../../modes/longitudinal/src/index.ts","webpack:///../../../modes/longitudinal/src/customizations.tsx"],"sourcesContent":["import packageJson from '../package.json';\n\nconst id = packageJson.name;\n\nexport { id };\n","import { toolNames as SRToolNames } from '@ohif/extension-cornerstone-dicom-sr';\n\nconst colours = {\n  'viewport-0': 'rgb(200, 0, 0)',\n  'viewport-1': 'rgb(200, 200, 0)',\n  'viewport-2': 'rgb(0, 200, 0)',\n};\n\nconst colorsByOrientation = {\n  axial: 'rgb(200, 0, 0)',\n  sagittal: 'rgb(200, 200, 0)',\n  coronal: 'rgb(0, 200, 0)',\n};\n\nfunction initDefaultToolGroup(\n  extensionManager,\n  toolGroupService,\n  commandsManager,\n  toolGroupId,\n  modeLabelConfig\n) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\n      },\n      {\n        toolName: toolNames.StackScroll,\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }],\n      },\n    ],\n    passive: [\n      { toolName: toolNames.Length },\n      {\n        toolName: toolNames.ArrowAnnotate,\n        configuration: {\n          getTextCallback: (callback, eventDetails) => {\n            if (modeLabelConfig) {\n              callback(' ');\n            } else {\n              commandsManager.runCommand('arrowTextCallback', {\n                callback,\n                eventDetails,\n              });\n            }\n          },\n          changeTextCallback: (data, eventDetails, callback) => {\n            if (modeLabelConfig === undefined) {\n              commandsManager.runCommand('arrowTextCallback', {\n                callback,\n                data,\n                eventDetails,\n              });\n            }\n          },\n        },\n      },\n      { toolName: toolNames.Bidirectional },\n      { toolName: toolNames.DragProbe },\n      { toolName: toolNames.Probe },\n      { toolName: toolNames.EllipticalROI },\n      { toolName: toolNames.CircleROI },\n      { toolName: toolNames.RectangleROI },\n      { toolName: toolNames.StackScroll },\n      { toolName: toolNames.Angle },\n      { toolName: toolNames.CobbAngle },\n      { toolName: toolNames.Magnify },\n      { toolName: toolNames.CalibrationLine },\n      {\n        toolName: toolNames.PlanarFreehandContourSegmentation,\n        configuration: {\n          displayOnePointAsCrosshairs: true,\n        },\n      },\n      { toolName: toolNames.UltrasoundDirectional },\n      { toolName: toolNames.PlanarFreehandROI },\n      { toolName: toolNames.SplineROI },\n      { toolName: toolNames.LivewireContour },\n      { toolName: toolNames.WindowLevelRegion },\n    ],\n    enabled: [\n      { toolName: toolNames.ImageOverlayViewer },\n      { toolName: toolNames.ReferenceLines },\n      {\n        toolName: SRToolNames.SRSCOORD3DPoint,\n      },\n    ],\n    disabled: [\n      {\n        toolName: toolNames.AdvancedMagnify,\n      },\n    ],\n  };\n\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\n}\n\nfunction initSRToolGroup(extensionManager, toolGroupService) {\n  const SRUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone-dicom-sr.utilityModule.tools'\n  );\n\n  if (!SRUtilityModule) {\n    return;\n  }\n\n  const CS3DUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames: SRToolNames } = SRUtilityModule.exports;\n  const { toolNames, Enums } = CS3DUtilityModule.exports;\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Primary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Auxiliary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Secondary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.StackScroll,\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }],\n      },\n    ],\n    passive: [\n      { toolName: SRToolNames.SRLength },\n      { toolName: SRToolNames.SRArrowAnnotate },\n      { toolName: SRToolNames.SRBidirectional },\n      { toolName: SRToolNames.SREllipticalROI },\n      { toolName: SRToolNames.SRCircleROI },\n      { toolName: SRToolNames.SRPlanarFreehandROI },\n      { toolName: SRToolNames.SRRectangleROI },\n      { toolName: toolNames.WindowLevelRegion },\n    ],\n    enabled: [\n      {\n        toolName: SRToolNames.DICOMSRDisplay,\n      },\n    ],\n    // disabled\n  };\n\n  const toolGroupId = 'SRToolGroup';\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\n}\n\nfunction initMPRToolGroup(extensionManager, toolGroupService, commandsManager, modeLabelConfig) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const serviceManager = extensionManager._servicesManager;\n  const { cornerstoneViewportService } = serviceManager.services;\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\n      },\n      {\n        toolName: toolNames.StackScroll,\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }],\n      },\n    ],\n    passive: [\n      { toolName: toolNames.Length },\n      {\n        toolName: toolNames.ArrowAnnotate,\n        configuration: {\n          getTextCallback: (callback, eventDetails) => {\n            if (modeLabelConfig) {\n              callback('');\n            } else {\n              commandsManager.runCommand('arrowTextCallback', {\n                callback,\n                eventDetails,\n              });\n            }\n          },\n          changeTextCallback: (data, eventDetails, callback) => {\n            if (modeLabelConfig === undefined) {\n              commandsManager.runCommand('arrowTextCallback', {\n                callback,\n                data,\n                eventDetails,\n              });\n            }\n          },\n        },\n      },\n      { toolName: toolNames.Bidirectional },\n      { toolName: toolNames.DragProbe },\n      { toolName: toolNames.Probe },\n      { toolName: toolNames.EllipticalROI },\n      { toolName: toolNames.CircleROI },\n      { toolName: toolNames.RectangleROI },\n      { toolName: toolNames.StackScroll },\n      { toolName: toolNames.Angle },\n      { toolName: toolNames.CobbAngle },\n      { toolName: toolNames.PlanarFreehandROI },\n      { toolName: toolNames.WindowLevelRegion },\n      {\n        toolName: toolNames.PlanarFreehandContourSegmentation,\n        configuration: {\n          displayOnePointAsCrosshairs: true,\n        },\n      },\n    ],\n    disabled: [\n      {\n        toolName: toolNames.Crosshairs,\n        configuration: {\n          viewportIndicators: true,\n          viewportIndicatorsConfig: {\n            circleRadius: 5,\n            xOffset: 0.95,\n            yOffset: 0.05,\n          },\n          disableOnPassive: true,\n          autoPan: {\n            enabled: false,\n            panSize: 10,\n          },\n          getReferenceLineColor: viewportId => {\n            const viewportInfo = cornerstoneViewportService.getViewportInfo(viewportId);\n            const viewportOptions = viewportInfo?.viewportOptions;\n            if (viewportOptions) {\n              return (\n                colours[viewportOptions.id] ||\n                colorsByOrientation[viewportOptions.orientation] ||\n                '#0c0'\n              );\n            } else {\n              console.warn('missing viewport?', viewportId);\n              return '#0c0';\n            }\n          },\n        },\n      },\n      {\n        toolName: toolNames.AdvancedMagnify,\n      },\n      { toolName: toolNames.ReferenceLines },\n    ],\n  };\n\n  toolGroupService.createToolGroupAndAddTools('mpr', tools);\n}\nfunction initVolume3DToolGroup(extensionManager, toolGroupService) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.TrackballRotateTool,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n    ],\n  };\n\n  toolGroupService.createToolGroupAndAddTools('volume3d', tools);\n}\n\nfunction initToolGroups(extensionManager, toolGroupService, commandsManager, modeLabelConfig) {\n  initDefaultToolGroup(\n    extensionManager,\n    toolGroupService,\n    commandsManager,\n    'default',\n    modeLabelConfig\n  );\n  initSRToolGroup(extensionManager, toolGroupService, commandsManager);\n  initMPRToolGroup(extensionManager, toolGroupService, commandsManager, modeLabelConfig);\n  initVolume3DToolGroup(extensionManager, toolGroupService);\n}\n\nexport default initToolGroups;\n","// TODO: torn, can either bake this here; or have to create a whole new button type\n// Only ways that you can pass in a custom React component for render :l\nimport { ToolbarService } from '@ohif/core';\nimport type { Button } from '@ohif/core/types';\n\nconst { createButton } = ToolbarService;\n\nexport const setToolActiveToolbar = {\n  commandName: 'setToolActiveToolbar',\n  commandOptions: {\n    toolGroupIds: ['default', 'mpr', 'SRToolGroup', 'volume3d'],\n  },\n};\n\nconst toolbarButtons: Button[] = [\n  {\n    id: 'MeasurementTools',\n    uiType: 'ohif.splitButton',\n    props: {\n      groupId: 'MeasurementTools',\n      // group evaluate to determine which item should move to the top\n      evaluate: 'evaluate.group.promoteToPrimaryIfCornerstoneToolNotActiveInTheList',\n      primary: createButton({\n        id: 'Length',\n        icon: 'tool-length',\n        label: 'Length',\n        tooltip: 'Length Tool',\n        commands: setToolActiveToolbar,\n        evaluate: 'evaluate.cornerstoneTool',\n      }),\n      secondary: {\n        icon: 'chevron-down',\n        tooltip: 'More Measure Tools',\n      },\n      items: [\n        createButton({\n          id: 'Length',\n          icon: 'tool-length',\n          label: 'Length',\n          tooltip: 'Length Tool',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'Bidirectional',\n          icon: 'tool-bidirectional',\n          label: 'Bidirectional',\n          tooltip: 'Bidirectional Tool',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'ArrowAnnotate',\n          icon: 'tool-annotate',\n          label: 'Annotation',\n          tooltip: 'Arrow Annotate',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'EllipticalROI',\n          icon: 'tool-ellipse',\n          label: 'Ellipse',\n          tooltip: 'Ellipse ROI',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'RectangleROI',\n          icon: 'tool-rectangle',\n          label: 'Rectangle',\n          tooltip: 'Rectangle ROI',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'CircleROI',\n          icon: 'tool-circle',\n          label: 'Circle',\n          tooltip: 'Circle Tool',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'PlanarFreehandROI',\n          icon: 'icon-tool-freehand-roi',\n          label: 'Freehand ROI',\n          tooltip: 'Freehand ROI',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'SplineROI',\n          icon: 'icon-tool-spline-roi',\n          label: 'Spline ROI',\n          tooltip: 'Spline ROI',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'LivewireContour',\n          icon: 'icon-tool-livewire',\n          label: 'Livewire tool',\n          tooltip: 'Livewire tool',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n      ],\n    },\n  },\n  {\n    id: 'Zoom',\n    uiType: 'ohif.radioGroup',\n    props: {\n      icon: 'tool-zoom',\n      label: 'Zoom',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  // Window Level\n  {\n    id: 'WindowLevel',\n    uiType: 'ohif.radioGroup',\n    props: {\n      icon: 'tool-window-level',\n      label: 'Window Level',\n      commands: setToolActiveToolbar,\n      evaluate: [\n        'evaluate.cornerstoneTool',\n        {\n          name: 'evaluate.viewport.supported',\n          unsupportedViewportTypes: ['wholeSlide'],\n        },\n      ],\n    },\n  },\n  // Pan...\n  {\n    id: 'Pan',\n    uiType: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-move',\n      label: 'Pan',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'TrackballRotate',\n    uiType: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-3d-rotate',\n      label: '3D Rotate',\n      commands: setToolActiveToolbar,\n      evaluate: {\n        name: 'evaluate.cornerstoneTool',\n        disabledText: 'Select a 3D viewport to enable this tool',\n      },\n    },\n  },\n  {\n    id: 'Capture',\n    uiType: 'ohif.radioGroup',\n    props: {\n      icon: 'tool-capture',\n      label: 'Capture',\n      commands: 'showDownloadViewportModal',\n      evaluate: [\n        'evaluate.action',\n        {\n          name: 'evaluate.viewport.supported',\n          unsupportedViewportTypes: ['video', 'wholeSlide'],\n        },\n      ],\n    },\n  },\n  {\n    id: 'Layout',\n    uiType: 'ohif.layoutSelector',\n    props: {\n      rows: 3,\n      columns: 4,\n      evaluate: 'evaluate.action',\n    },\n  },\n  {\n    id: 'Crosshairs',\n    uiType: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-crosshair',\n      label: 'Crosshairs',\n      commands: {\n        commandName: 'setToolActiveToolbar',\n        commandOptions: {\n          toolGroupIds: ['mpr'],\n        },\n      },\n      evaluate: {\n        name: 'evaluate.cornerstoneTool',\n        disabledText: 'Select an MPR viewport to enable this tool',\n      },\n    },\n  },\n];\n\nexport default toolbarButtons;\n","import type { RunCommand } from '@ohif/core/types';\nimport { EVENTS } from '@cornerstonejs/core';\nimport { ToolbarService, ViewportGridService } from '@ohif/core';\nimport { setToolActiveToolbar } from './toolbarButtons';\nconst { createButton } = ToolbarService;\n\nconst ReferenceLinesListeners: RunCommand = [\n  {\n    commandName: 'setSourceViewportForReferenceLinesTool',\n    context: 'CORNERSTONE',\n  },\n];\n\nconst moreTools = [\n  {\n    id: 'MoreTools',\n    uiType: 'ohif.splitButton',\n    props: {\n      groupId: 'MoreTools',\n      evaluate: 'evaluate.group.promoteToPrimaryIfCornerstoneToolNotActiveInTheList',\n      primary: createButton({\n        id: 'Reset',\n        icon: 'tool-reset',\n        tooltip: 'Reset View',\n        label: 'Reset',\n        commands: 'resetViewport',\n        evaluate: 'evaluate.action',\n      }),\n      secondary: {\n        icon: 'chevron-down',\n        label: '',\n        tooltip: 'More Tools',\n      },\n      items: [\n        createButton({\n          id: 'Reset',\n          icon: 'tool-reset',\n          label: 'Reset View',\n          tooltip: 'Reset View',\n          commands: 'resetViewport',\n          evaluate: 'evaluate.action',\n        }),\n        createButton({\n          id: 'rotate-right',\n          icon: 'tool-rotate-right',\n          label: 'Rotate Right',\n          tooltip: 'Rotate +90',\n          commands: 'rotateViewportCW',\n          evaluate: [\n            'evaluate.action',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'flipHorizontal',\n          icon: 'tool-flip-horizontal',\n          label: 'Flip Horizontal',\n          tooltip: 'Flip Horizontally',\n          commands: 'flipViewportHorizontal',\n          evaluate: [\n            'evaluate.viewportProperties.toggle',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video', 'volume3d'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'ImageSliceSync',\n          icon: 'link',\n          label: 'Image Slice Sync',\n          tooltip: 'Enable position synchronization on stack viewports',\n          commands: {\n            commandName: 'toggleSynchronizer',\n            commandOptions: {\n              type: 'imageSlice',\n            },\n          },\n          listeners: {\n            [EVENTS.VIEWPORT_NEW_IMAGE_SET]: {\n              commandName: 'toggleImageSliceSync',\n              commandOptions: { toggledState: true },\n            },\n          },\n          evaluate: [\n            'evaluate.cornerstone.synchronizer',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video', 'volume3d'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'ReferenceLines',\n          icon: 'tool-referenceLines',\n          label: 'Reference Lines',\n          tooltip: 'Show Reference Lines',\n          commands: 'toggleEnabledDisabledToolbar',\n          listeners: {\n            [ViewportGridService.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]: ReferenceLinesListeners,\n            [ViewportGridService.EVENTS.VIEWPORTS_READY]: ReferenceLinesListeners,\n          },\n          evaluate: [\n            'evaluate.cornerstoneTool.toggle',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'ImageOverlayViewer',\n          icon: 'toggle-dicom-overlay',\n          label: 'Image Overlay',\n          tooltip: 'Toggle Image Overlay',\n          commands: 'toggleEnabledDisabledToolbar',\n          evaluate: [\n            'evaluate.cornerstoneTool.toggle',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'StackScroll',\n          icon: 'tool-stack-scroll',\n          label: 'Stack Scroll',\n          tooltip: 'Stack Scroll',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'invert',\n          icon: 'tool-invert',\n          label: 'Invert',\n          tooltip: 'Invert Colors',\n          commands: 'invertViewport',\n          evaluate: [\n            'evaluate.viewportProperties.toggle',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'Probe',\n          icon: 'tool-probe',\n          label: 'Probe',\n          tooltip: 'Probe',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'Cine',\n          icon: 'tool-cine',\n          label: 'Cine',\n          tooltip: 'Cine',\n          commands: 'toggleCine',\n          evaluate: [\n            'evaluate.cine',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['volume3d'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'Angle',\n          icon: 'tool-angle',\n          label: 'Angle',\n          tooltip: 'Angle',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'CobbAngle',\n          icon: 'icon-tool-cobb-angle',\n          label: 'Cobb Angle',\n          tooltip: 'Cobb Angle',\n          commands: setToolActiveToolbar,\n          evaluate: 'evaluate.cornerstoneTool',\n        }),\n        createButton({\n          id: 'Magnify',\n          icon: 'tool-magnify',\n          label: 'Zoom-in',\n          tooltip: 'Zoom-in',\n          commands: setToolActiveToolbar,\n          evaluate: [\n            'evaluate.cornerstoneTool',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'CalibrationLine',\n          icon: 'tool-calibration',\n          label: 'Calibration',\n          tooltip: 'Calibration Line',\n          commands: setToolActiveToolbar,\n          evaluate: [\n            'evaluate.cornerstoneTool',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'TagBrowser',\n          icon: 'dicom-tag-browser',\n          label: 'Dicom Tag Browser',\n          tooltip: 'Dicom Tag Browser',\n          commands: 'openDICOMTagViewer',\n        }),\n        createButton({\n          id: 'AdvancedMagnify',\n          icon: 'icon-tool-loupe',\n          label: 'Magnify Probe',\n          tooltip: 'Magnify Probe',\n          commands: 'toggleActiveDisabledToolbar',\n          evaluate: [\n            'evaluate.cornerstoneTool.toggle.ifStrictlyDisabled',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'UltrasoundDirectionalTool',\n          icon: 'icon-tool-ultrasound-bidirectional',\n          label: 'Ultrasound Directional',\n          tooltip: 'Ultrasound Directional',\n          commands: setToolActiveToolbar,\n          evaluate: [\n            'evaluate.cornerstoneTool',\n            {\n              name: 'evaluate.modality.supported',\n              supportedModalities: ['US'],\n            },\n          ],\n        }),\n        createButton({\n          id: 'WindowLevelRegion',\n          icon: 'icon-tool-window-region',\n          label: 'Window Level Region',\n          tooltip: 'Window Level Region',\n          commands: setToolActiveToolbar,\n          evaluate: [\n            'evaluate.cornerstoneTool',\n            {\n              name: 'evaluate.viewport.supported',\n              unsupportedViewportTypes: ['video'],\n            },\n          ],\n        }),\n      ],\n    },\n  },\n];\n\nexport default moreTools;\n","import { hotkeys } from '@ohif/core';\nimport i18n from 'i18next';\nimport { id } from './id';\nimport initToolGroups from './initToolGroups';\nimport toolbarButtons from './toolbarButtons';\nimport moreTools from './moreTools';\nimport { performCustomizations } from './customizations';\n\n// Allow this mode by excluding non-imaging modalities such as SR, SEG\n// Also, SM is not a simple imaging modalities, so exclude it.\nconst NON_IMAGE_MODALITIES = ['ECG', 'SEG', 'RTSTRUCT', 'RTPLAN', 'PR'];\n\nconst ohif = {\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\n  thumbnailList: '@ohif/extension-default.panelModule.seriesList',\n  wsiSopClassHandler:\n    '@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler',\n};\n\nconst cornerstone = {\n  measurements: '@ohif/extension-cornerstone.panelModule.panelMeasurement',\n  segmentation: '@ohif/extension-cornerstone.panelModule.panelSegmentation',\n};\n\nconst tracked = {\n  measurements: '@ohif/extension-measurement-tracking.panelModule.trackedMeasurements',\n  thumbnailList: '@ohif/extension-measurement-tracking.panelModule.seriesList',\n  viewport: '@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked',\n};\n\nconst dicomsr = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\n  sopClassHandler3D: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr-3d',\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\n};\n\nconst dicomvideo = {\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\n};\n\nconst dicompdf = {\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\n};\n\nconst dicomSeg = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg',\n  viewport: '@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg',\n};\n\nconst dicomPmap = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-pmap.sopClassHandlerModule.dicom-pmap',\n  viewport: '@ohif/extension-cornerstone-dicom-pmap.viewportModule.dicom-pmap',\n};\n\nconst dicomRT = {\n  viewport: '@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt',\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt',\n};\n\nconst extensionDependencies = {\n  // Can derive the versions at least process.env.from npm_package_version\n  '@ohif/extension-default': '^3.0.0',\n  '@ohif/extension-cornerstone': '^3.0.0',\n  '@ohif/extension-measurement-tracking': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-seg': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-pmap': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-rt': '^3.0.0',\n  '@ohif/extension-dicom-pdf': '^3.0.1',\n  '@ohif/extension-dicom-video': '^3.0.1',\n};\n\nfunction modeFactory({ modeConfiguration }) {\n  let _activatePanelTriggersSubscriptions = [];\n  return {\n    // TODO: We're using this as a route segment\n    // We should not be.\n    id,\n    routeName: 'viewer',\n    displayName: i18n.t('Modes:Basic Viewer'),\n    /**\n     * Lifecycle hooks\n     */\n    onModeEnter: function ({ servicesManager, extensionManager, commandsManager }: withAppTypes) {\n      const {\n        measurementService,\n        toolbarService,\n        toolGroupService,\n        customizationService,\n        panelService,\n        segmentationService,\n      } = servicesManager.services;\n\n      measurementService.clearMeasurements();\n\n      performCustomizations(customizationService);\n\n      // Init Default and SR ToolGroups\n      initToolGroups(extensionManager, toolGroupService, commandsManager, this.labelConfig);\n\n      toolbarService.addButtons([...toolbarButtons, ...moreTools]);\n      toolbarService.createButtonSection('primary', [\n        'MeasurementTools',\n        'Zoom',\n        'Pan',\n        'TrackballRotate',\n        'WindowLevel',\n        'Capture',\n        'Layout',\n        'Crosshairs',\n        'MoreTools',\n      ]);\n\n      // // ActivatePanel event trigger for when a segmentation or measurement is added.\n      // // Do not force activation so as to respect the state the user may have left the UI in.\n      _activatePanelTriggersSubscriptions = [\n        ...panelService.addActivatePanelTriggers(cornerstone.segmentation, [\n          {\n            sourcePubSubService: segmentationService,\n            sourceEvents: [segmentationService.EVENTS.SEGMENTATION_ADDED],\n          },\n        ]),\n        ...panelService.addActivatePanelTriggers(tracked.measurements, [\n          {\n            sourcePubSubService: measurementService,\n            sourceEvents: [\n              measurementService.EVENTS.MEASUREMENT_ADDED,\n              measurementService.EVENTS.RAW_MEASUREMENT_ADDED,\n            ],\n          },\n        ]),\n      ];\n    },\n    onModeExit: ({ servicesManager }: withAppTypes) => {\n      const {\n        toolGroupService,\n        syncGroupService,\n        segmentationService,\n        cornerstoneViewportService,\n        uiDialogService,\n        uiModalService,\n      } = servicesManager.services;\n\n      _activatePanelTriggersSubscriptions.forEach(sub => sub.unsubscribe());\n      _activatePanelTriggersSubscriptions = [];\n\n      uiDialogService.dismissAll();\n      uiModalService.hide();\n      toolGroupService.destroy();\n      syncGroupService.destroy();\n      segmentationService.destroy();\n      cornerstoneViewportService.destroy();\n    },\n    validationTags: {\n      study: [],\n      series: [],\n    },\n\n    isValidMode: function ({ modalities }) {\n      const modalities_list = modalities.split('\\\\');\n\n      // Exclude non-image modalities\n      return {\n        valid: !!modalities_list.filter(modality => NON_IMAGE_MODALITIES.indexOf(modality) === -1)\n          .length,\n        description:\n          'The mode does not support studies that ONLY include the following modalities: SM, ECG, SEG, RTSTRUCT',\n      };\n    },\n    routes: [\n      {\n        path: 'longitudinal',\n        /*init: ({ servicesManager, extensionManager }) => {\n          //defaultViewerRouteInit\n        },*/\n        layoutTemplate: () => {\n          return {\n            id: ohif.layout,\n            props: {\n              leftPanels: [tracked.thumbnailList],\n              rightPanels: [cornerstone.segmentation, tracked.measurements],\n              rightPanelClosed: true,\n              viewports: [\n                {\n                  namespace: tracked.viewport,\n                  displaySetsToDisplay: [\n                    ohif.sopClassHandler,\n                    dicomvideo.sopClassHandler,\n                    dicomsr.sopClassHandler3D,\n                    ohif.wsiSopClassHandler,\n                  ],\n                },\n                {\n                  namespace: dicomsr.viewport,\n                  displaySetsToDisplay: [dicomsr.sopClassHandler],\n                },\n                {\n                  namespace: dicompdf.viewport,\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\n                },\n                {\n                  namespace: dicomSeg.viewport,\n                  displaySetsToDisplay: [dicomSeg.sopClassHandler],\n                },\n                {\n                  namespace: dicomPmap.viewport,\n                  displaySetsToDisplay: [dicomPmap.sopClassHandler],\n                },\n                {\n                  namespace: dicomRT.viewport,\n                  displaySetsToDisplay: [dicomRT.sopClassHandler],\n                },\n              ],\n            },\n          };\n        },\n      },\n    ],\n    extensions: extensionDependencies,\n    // Default protocol gets self-registered by default in the init\n    hangingProtocol: 'default',\n    // Order is important in sop class handlers when two handlers both use\n    // the same sop class under different situations.  In that case, the more\n    // general handler needs to come last.  For this case, the dicomvideo must\n    // come first to remove video transfer syntax before ohif uses images\n    sopClassHandlers: [\n      dicomvideo.sopClassHandler,\n      dicomSeg.sopClassHandler,\n      dicomPmap.sopClassHandler,\n      ohif.sopClassHandler,\n      ohif.wsiSopClassHandler,\n      dicompdf.sopClassHandler,\n      dicomsr.sopClassHandler3D,\n      dicomsr.sopClassHandler,\n      dicomRT.sopClassHandler,\n    ],\n    hotkeys: [...hotkeys.defaults.hotkeyBindings],\n    ...modeConfiguration,\n  };\n}\n\nconst mode = {\n  id,\n  modeFactory,\n  extensionDependencies,\n};\n\nexport default mode;\nexport { initToolGroups, moreTools, toolbarButtons };\n","export const performCustomizations = customizationService => {\n  // Set the custom SegmentationTable\n  customizationService.addModeCustomizations([\n    // To disable editing in the SegmentationTable\n    {\n      id: 'PanelSegmentation.disableEditing',\n      disableEditing: true,\n    },\n    // To disable editing in the MeasurementTable\n    // {\n    //   id: 'PanelMeasurement.disableEditing',\n    //   disableEditing: true,\n    // },\n    //   {\n    //     id: 'measurementLabels',\n    //     labelOnMeasure: true,\n    //     exclusive: true,\n    //     items: [\n    //       { value: 'Head', label: 'Head' },\n    //       { value: 'Shoulder', label: 'Shoulder' },\n    //       { value: 'Knee', label: 'Knee' },\n    //       { value: 'Toe', label: 'Toe' },\n    //     ],\n    //   },\n  ]);\n};\n"],"names":["id","packageJson","colours","colorsByOrientation","axial","sagittal","coronal","extensionManager","toolGroupService","commandsManager","modeLabelConfig","toolGroupId","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","toolName","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","StackScroll","Wheel","passive","Length","ArrowAnnotate","configuration","getTextCallback","callback","eventDetails","runCommand","changeTextCallback","data","undefined","Bidirectional","DragProbe","Probe","EllipticalROI","CircleROI","RectangleROI","Angle","CobbAngle","Magnify","CalibrationLine","PlanarFreehandContourSegmentation","displayOnePointAsCrosshairs","UltrasoundDirectional","PlanarFreehandROI","SplineROI","LivewireContour","WindowLevelRegion","enabled","ImageOverlayViewer","ReferenceLines","SRToolNames","SRSCOORD3DPoint","disabled","AdvancedMagnify","createToolGroupAndAddTools","initDefaultToolGroup","SRUtilityModule","CS3DUtilityModule","SRLength","SRArrowAnnotate","SRBidirectional","SREllipticalROI","SRCircleROI","SRPlanarFreehandROI","SRRectangleROI","DICOMSRDisplay","initSRToolGroup","serviceManager","_servicesManager","cornerstoneViewportService","services","Crosshairs","viewportIndicators","viewportIndicatorsConfig","circleRadius","xOffset","yOffset","disableOnPassive","autoPan","panSize","getReferenceLineColor","viewportId","viewportInfo","getViewportInfo","viewportOptions","orientation","console","warn","initMPRToolGroup","TrackballRotateTool","initVolume3DToolGroup","createButton","ToolbarService","setToolActiveToolbar","commandName","commandOptions","toolGroupIds","uiType","props","groupId","evaluate","primary","icon","label","tooltip","commands","secondary","items","name","unsupportedViewportTypes","type","disabledText","rows","columns","ReferenceLinesListeners","context","listeners","EVENTS","VIEWPORT_NEW_IMAGE_SET","toggledState","ViewportGridService","ACTIVE_VIEWPORT_ID_CHANGED","VIEWPORTS_READY","supportedModalities","NON_IMAGE_MODALITIES","ohif","cornerstone","tracked","dicomsr","dicomvideo","dicompdf","dicomSeg","dicomPmap","dicomRT","extensionDependencies","modeFactory","modeConfiguration","_activatePanelTriggersSubscriptions","routeName","displayName","i18n","t","onModeEnter","servicesManager","measurementService","toolbarService","customizationService","panelService","segmentationService","clearMeasurements","addModeCustomizations","disableEditing","performCustomizations","initToolGroups","this","labelConfig","addButtons","toolbarButtons","moreTools","createButtonSection","addActivatePanelTriggers","sourcePubSubService","sourceEvents","SEGMENTATION_ADDED","MEASUREMENT_ADDED","RAW_MEASUREMENT_ADDED","onModeExit","syncGroupService","uiDialogService","uiModalService","forEach","sub","unsubscribe","dismissAll","hide","destroy","validationTags","study","series","isValidMode","modalities","valid","split","filter","modality","indexOf","length","description","routes","path","layoutTemplate","leftPanels","rightPanels","rightPanelClosed","viewports","namespace","displaySetsToDisplay","extensions","hangingProtocol","sopClassHandlers","hotkeys","defaults","hotkeyBindings"],"sourceRoot":""}